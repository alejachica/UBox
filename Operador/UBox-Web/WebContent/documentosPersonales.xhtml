<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/templates/page-template.xhtml">
	<ui:define name="bodyContent">
		<!--div class="row"-->
			<!--div class="box col-md-12"-->
				<!--div class="box-inner"-->
					<div class="box-header well" data-original-title="">
					    <h2><i class="glyphicon glyphicon-user"></i>Directorio documentos</h2>
					</div>
					<!--div class="box-content"-->
						<div class="alert alert-info">
						    <table class="table">
						        <tbody>
						            <tr>
						                <td>
						                    <a  class="btn" href="#">
						                        <i class=" glyphicon glyphicon-ok"></i>
						                         Crear Carpeta
						                    </a>
						                    <input type="text" />
						                </td>
						            </tr>
						        </tbody>
						    </table>
						</div>
						<p:commandLink title="Cargar Documento" actionListener="PF('dialogoCarpeta').show();" styleClass="ui-icon ui-icon-circle-arrow-n">
						</p:commandLink>
						    <p:treeTable value="#{directorioBean.root}" var="carpeta">
						        <f:facet name="header">
						            Directorio
						        </f:facet>
						        <p:column headerText="Nombre">
						            <h:outputText value="#{carpeta.nombre}" />
						        </p:column>
						        <p:column headerText="Descripcion">
						            <h:outputText value="#{carpeta.descripcion}" />
						        </p:column>
							    <p:column headerText="Acciones" rendered="#{carpeta.type eq 'Folder'}">
							    	<p:commandLink title="Cargar Documento" actionListener="PF('dialogoCarpeta').show();" styleClass="ui-icon ui-icon-circle-arrow-n">
						            </p:commandLink>
						            <p:commandButton value="Modal" type="button" onclick="PF('dialogoCarpeta').show();" />
							    	<p:commandLink title="Crear Sub-Carpeta" styleClass="ui-icon ui-icon-plus">
						                <!-- f:setPropertyActionListener value="#{document}" target="#{ttBasicView.selectedDocument}" /-->
						            </p:commandLink>
						            <p:commandLink title="Eliminar Carpeta" styleClass="ui-icon ui-icon-trash">
						                <!--f:setPropertyActionListener value="#{document}" target="#{ttBasicView.selectedDocument}" /-->
						            </p:commandLink>
						        </p:column>
					        	<p:column headerText="Acciones" rendered="#{carpeta.type eq 'Archivo'}">
					        		<a  class="btn" href="#">
				                        <i class=" glyphicon glyphicon-ok"></i>Ver
				                    </a>
				                    <a  class="btn" href="#">
				                        <i class=" glyphicon glyphicon-ok"></i>Compartir
				                    </a>
					        		<a  class="btn" href="#">
				                        <i class=" glyphicon glyphicon-ok"></i>Eliminar
				                    </a>
				                    <h:form enctype="multipart/form-data">
									    <p:growl id="messages" showDetail="true" />
									    <p:fileUpload value="#{documentosPersonalesBean.file}" mode="simple" skinSimple="true"/>
									    <p:commandButton value="Submit" ajax="false" actionListener="#{documentosPersonalesBean.upload}" />
									</h:form>
					        	</p:column>
						        
						        <!--p:column style="width:24px">
						            <p:commandLink update=":form:documentPanel" oncomplete="PF('documentDialog').show()" title="View Detail" styleClass="ui-icon ui-icon-search">
						                <f:setPropertyActionListener value="#{document}" target="#{ttBasicView.selectedDocument}" />
						            </p:commandLink>
						        </p:column-->
						    </p:treeTable>
						 	
						 	<!-- Dialogo para crear una carpeta -->
						 	
						 	<p:dialog id="dialogoCarpetaId" header="Crear Sub-Carpeta" showEffect="fade" widgetVar="dialogoCarpeta" modal="true" resizable="false">
								<h:inputText value="#{directorioBean.nombre}" required="true"></h:inputText>
								<br/>
								<h:inputText value="#{directorioBean.descripcion}" required="true"></h:inputText>
								<br/>
						     	<h:commandButton action="#{directorioBean.crearCarpeta}" value="Crear Carpeta">
								</h:commandButton>
						    </p:dialog>
						    <!--p:dialog id="dialog" header="Document Detail" showEffect="fade" widgetVar="documentDialog" modal="true" resizable="false">
						        <p:outputPanel id="documentPanel">
						            <p:panelGrid  columns="2" columnClasses="label,value" rendered="#{not empty ttBasicView.selectedDocument}">
						                <h:outputLabel for="name" value="Name: " />
						                <h:outputText id="name" value="#{ttBasicView.selectedDocument.name}" style="font-weight:bold" />
						 
						                <h:outputLabel for="size" value="Size: " />
						                <h:outputText id="size" value="#{ttBasicView.selectedDocument.size}" style="font-weight:bold" />
						 
						                <h:outputLabel for="type" value="Type " />
						                <h:outputText id="type" value="#{ttBasicView.selectedDocument.type}" style="font-weight:bold" />
						            </p:panelGrid>
						        </p:outputPanel>
						    </p:dialog-->
					<!--/div-->
				<!--/div-->
			<!--/div-->
	    <!--/div-->
	</ui:define>
</ui:composition>

<!--?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" >
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
</h:head>
<f:loadBundle basename="main.resources.application" var="msg"/-->
<!--  
<title><h:outputText value="#{msg.welcomeTitle}" /></title>
-->
<!--h:body>
	<h:form>
	<h:inputText value="#{directorioBean.nombre}" required="true"></h:inputText>
		<br/>
		<h:inputText value="#{directorioBean.descripcion}" required="true"></h:inputText>
		<br/>
     	<h:commandButton action="#{directorioBean.crearCarpeta}" value="Crear Carpeta">
		</h:commandButton>
		<br/>
		<br/>
		<h:commandButton action="#{directorioBean.eliminarCarpeta}" value="eliminar Carpeta">
		</h:commandButton>
	</h:form>
</h:body>
</html-->